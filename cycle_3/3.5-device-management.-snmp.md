# 3.5 Device Management. SNMP

## –¢–µ–º—ã

{% hint style="info" %}
  _–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º, —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º—ã—Ö –≤ –¥–∞–Ω–Ω–æ–π –≥–ª–∞–≤–µ._
{% endhint %}

* SNMPv2 Server
* SNMPv2c Access Control
* SNMP Traps and Informs
* CPU and Memory Thresholds
* SNMPv3
* SNMP MAC Address Notifications
* SNMP Notifications of Syslog Messages

## ‚ùì –í–æ–ø—Ä–æ—Å—ã:

{% hint style="info" %}
 _–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏ –ø–æ–∏—Å–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤._
{% endhint %}

1. –ù–∞ –∫–∞–∫–∏—Ö –ø–æ—Ä—Ç–∞—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç SNMP?
2. –ö–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è SNMP?
3. –î–∞—Ç—å –ø–æ–Ω—è—Ç–∏–µ –æ MIB.
4. –û–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É SNMP Trap –∏ SNMP Inform.
5. –ö–∞–∫–∏–µ –≤–µ—Ä—Å–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SNMP? –û–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏.
6. –°–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞ SNMPv3? –î–∞—Ç—å –ø–æ—è—Å–Ω–µ–Ω–∏–µ.
7. –ö–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º Traps —Ä–∞–±–æ—Ç–∞—é—Ç –≤ SNMPv3?
8. –û–±—ä—è—Å–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É view –≤ SNMPv3.

## üìç –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞:

–í —ç—Ç–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [—Ñ–∏–∑–∏—á–µ—Å–∫–∞—è](https://ccie.gitbook.io/ccie/topology#physic) –∏ [–ª–æ–≥–∏—á–µ—Å–∫–∞—è](https://ccie.gitbook.io/ccie/topology#logic) —Ç–æ–ø–æ–ª–æ–≥–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

**–ó–∞–¥–∞–Ω–∏–µ \#1 –¥–ª—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π:**

1. –ó–∞–≥—Ä—É–∑–∏—Ç—å [–Ω–∞—á–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é](https://drive.google.com/open?id=0B3uwAH0p4u2NQ1VOZG81VlZhVjg)
2. –ù–∞ R1,R2,R3,R4,R5,R6 —Å–æ–∑–¥–∞—Ç—å view SNMP —Å–µ—Ä–≤–µ—Ä–∞ –≤–µ—Ä—Å–∏–∏ 3 –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º ALLINT –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –¥–ª—è –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ \(–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –ø–æ–¥–¥–µ—Ä–µ–≤—É MIB\).
3. –ù–∞ R1,R2,R3,R4,R5,R6 —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º CCIEinaYEAR —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SNMP –≤–µ—Ä—Å–∏–∏ 3 –∏ –¥–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –¥–ª—è view ALLINT.
4. –ù–∞ R1,R2,R3,R4,R5,R6 —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º CCIEadmin, –ø—Ä–∏–≤—è–∑–∞—Ç—å –µ–≥–æ –∫ –≥—Ä—É–ø–ø–µ CCIEinaYEAR c –¥–æ—Å—Ç—É–ø–æ–º –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É SNMP, —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–π–¥–µ—Ç SNMP –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é:
   * –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∫–∞—Ü–∏—é sha —Å –ø–∞—Ä–æ–ª–µ–º CCIEinaYEAR? , –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è 3des –∏ –ø–∞—Ä–æ–ª–µ–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è CCIEinaYEAR?
   * –†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è CCIEadmin —Ç–æ–ª—å–∫–æ —Å –∞–¥—Ä–µ—Å–∞ 180.1.3.3 –∏—Å–ø–æ–ª—å–∑—É—è ACL —Å –Ω–æ–º–µ—Ä–æ–º 90
5. –í –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –¥–æ–±–∞–≤–∏—Ç—å –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã sh snmp user

**–ó–∞–¥–∞–Ω–∏–µ \#2 –¥–ª—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π:**

1. –ó–∞–≥—Ä—É–∑–∏—Ç—å [–Ω–∞—á–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é ](https://drive.google.com/open?id=0B3uwAH0p4u2NZWd3Tk5oS1REbEU)
2. –ù–∞ R1 –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SNMPv2c —Å —Ç–∞–∫–∏–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏:
   * –î–ª—è community OPEN —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ –∫ –ø–æ–¥–¥–µ—Ä–µ–≤—É iso, –Ω–æ, –ø—Ä–∏ —ç—Ç–æ–º, –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–æ–¥–¥–µ—Ä–µ–≤—å—è–º: –∫ –ø–æ–¥–¥–µ—Ä–µ–≤—É, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ ospf –∏ –ø–æ–¥–¥–µ—Ä–µ–≤—É, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ ip.
   * –û–±—ä–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø–æ–¥–¥–µ—Ä–µ–≤—å—è MIB, –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è RO\_OPEN.
   * –î–ª—è community ADMIN —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å, –Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è IP 180.100.3.3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —ç—Ç–æ–≥–æ ACL 20
3. –ù–∞ R2 –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SNMPv2c —Å —Ç–∞–∫–∏–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏:
   * –î–ª—è community OPEN —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∫ –ø–æ–¥–¥–µ—Ä–µ–≤—É ifEntry. –û–±—ä–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–µ–≤–æ MIB, –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è R2\_INT.
   * –ò–Ω–¥–µ–∫—Å—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –Ω–µ –¥–æ–ª–∂–Ω—ã –º–µ–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
4. –ù–∞ R3 –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SNMPv2c —Å —Ç–∞–∫–∏–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏:

   * –î–ª—è community ADMIN —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å
   * –í–∫–ª—é—á–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π trap –Ω–∞ IP 180.1.4.4 \(Loopback R4\) –∏—Å–ø–æ–ª—å–∑—É—è –≤–µ—Ä—Å–∏—é 2c –∏ community ADMIN
   * Trap –¥–æ–ª–∂–Ω—ã –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è, –µ—Å–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø–∞–ª –∏–ª–∏ –ø–æ–¥–Ω—è–ª—Å—è; –µ—Å–ª–∏ —Å–æ—Å–µ–¥ OSPF —É–ø–∞–ª –∏–ª–∏ –ø–æ–¥–Ω—è–ª—Å—è.
   * –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –≤–∫–ª—é—á–∏—Ç—å –Ω–∞ R3 debug snmp packets –∏ —Å–¥–µ–ª–∞—Ç—å clear ip ospf process. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é trap, –µ—Å–ª–∏ –º–µ–Ω—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –í –≤—ã–≤–æ–¥–µ debug –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è trap, –∫–æ—Ç–æ—Ä—ã–µ –∏–¥—É—Ç –Ω–∞ R4

{% hint style="info" %}
_–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∑–∞–¥–∞–Ω–∏—é, –ø—Ä–æ–π–¥–∏—Ç–µ –ø–æ_ [_—Å—Å—ã–ª–∫–µ_ ](http://ccie.linkmeup.ru/2016/05/18/laboratornaya-rabota-po-teme-17-device-management-8-1-8-snmp/)_–∏ –≤—ã –ø–æ–ø–∞–¥–µ—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –∑–∞–¥–∞–Ω–∏—é –Ω–∞ —Å–∞–π—Ç–µ_ [_ccie.linkmeup.ru_](http://ccie.linkmeup.ru/)_. –í–æ–∑–º–æ–∂–Ω–æ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ —É–∂–µ –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –Ω–∏—Ö._
{% endhint %}

##  üìå –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ —Ç–µ–º–µ –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è:

**–°—Å—ã–ª–∫–∏ –Ω–∞ —Å–∞–π—Ç** [**www.cisco.com**](http://www.cisco.com)**:**

* [http://www.cisco.com/c/en/us/td/docs/ios-xml/ios/net\_mgmt/config\_library/15-mt/netmgmt-15-mt-library.html](http://www.cisco.com/c/en/us/td/docs/ios-xml/ios/net_mgmt/config_library/15-mt/netmgmt-15-mt-library.html)
* [http://www.cisco.com/c/en/us/td/docs/ios-xml/ios/snmp/configuration/15-mt/snmp-15-mt-book.html](http://www.cisco.com/c/en/us/td/docs/ios-xml/ios/snmp/configuration/15-mt/snmp-15-mt-book.html)

**–ö–∞–∫ –Ω–∞–π—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç:**

* Cisco.com‚ÜíDocumentation‚Üí Products ‚ÜíIOS and NX-OS SoftwareIOS‚ÜíIOS Software Release 15.5 Family‚ÜíIOS Software Releases 15.5 Mainline‚Üí Quality of Service Solutions Configuration Guide Library, Cisco IOS Release 15M&T‚ÜíNetwork Management Configuration Guide Library, Cisco IOS Release 15M&T ‚ÜíSNMP Configuration Guide, Cisco IOS Release 15M&T

**–°—Å—ã–ª–∫–∏ –Ω–∞ –∫–Ω–∏–≥—É/–≥–ª–∞–≤—É:**

* CCIE Routing and Switching v5.0 Official Cert Guide Volume 1, SNMP

**–°—Å—ã–ª–∫–∏ –Ω–∞ —Å–∞–π—Ç xgu.ru:**

* [https://www.youtube.com/watch?v=tg47MZdtcAE](https://www.youtube.com/watch?v=tg47MZdtcAE)
* [http://blog.ine.com/2008/07/19/snmpv3-tutorial/](http://blog.ine.com/2008/07/19/snmpv3-tutorial/)

{% hint style="info" %}
 _–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º, –ø—Ä–æ–π–¥–∏—Ç–µ –ø–æ_ [_—Å—Å—ã–ª–∫–µ_ ](http://ccie.linkmeup.ru/2016/05/18/materialy-po-tsiklu-3-teme-17-device-management-8-1-8/)_–∏ –≤—ã –ø–æ–ø–∞–¥–µ—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º –Ω–∞ —Å–∞–π—Ç–µ_ [_ccie.linkmeup.ru_](http://ccie.linkmeup.ru/)_. –í–æ–∑–º–æ–∂–Ω–æ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ —É–∂–µ –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –Ω–∏—Ö._
{% endhint %}

